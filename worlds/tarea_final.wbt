#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/floors/protos/RectangleArena.proto"

WorldInfo {
  contactProperties [
    ContactProperties {
      material1 "wheel"
      coulombFriction [
        0.8
      ]
      bounce 0
    }
    ContactProperties {
      material1 "caster"
      coulombFriction [
        0.05
      ]
      bounce 0
    }
  ]
}
Viewpoint {
  orientation -0.13757055187382777 0.8697381332873773 0.4739513928272803 0.6442259695402414
  position -2.7005938957177036 -1.057251756737315 1.8303974116965678
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 1.6 1.6
  floorTileSize 0.2 0.2
  wallThickness 0.02
  wallHeight 0.15
}
DEF OBST1 Solid {
  translation 0 0.05 0.12
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.2 0.2 0.3
        roughness 0.8
        metalness 0.2
      }
      geometry Box {
        size 0.25 0.1 0.25
      }
    }
  ]
  name "obst1"
  boundingObject Box {
    size 0.25 0.1 0.25
  }
}
DEF OBST2 Solid {
  translation 0.5 0.05 0.15
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.3 0.15 0.4
        roughness 0.8
        metalness 0.2
      }
      geometry Box {
        size 0.18 0.1 0.3
      }
    }
  ]
  name "obst2"
  boundingObject Box {
    size 0.18 0.1 0.3
  }
}
DEF OBST3 Solid {
  translation -0.45 0.05 0.1
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.15 0.3 0.35
        roughness 0.8
        metalness 0.2
      }
      geometry Box {
        size 0.3 0.1 0.18
      }
    }
  ]
  name "obst3"
  boundingObject Box {
    size 0.3 0.1 0.18
  }
}
# ========== PILARES DECORATIVOS ==========
DEF PILLAR_1 Solid {
  translation 0.6 0.6 0.075
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.1 0.4 0.8
        roughness 0.5
        metalness 0.3
      }
      geometry Cylinder {
        height 0.15
        radius 0.04
      }
    }
  ]
  name "pillar_1"
  boundingObject Cylinder {
    height 0.15
    radius 0.04
  }
}
DEF PILLAR_2 Solid {
  translation -0.6 0.6 0.075
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.1 0.7 0.4
        roughness 0.5
        metalness 0.3
      }
      geometry Cylinder {
        height 0.15
        radius 0.04
      }
    }
  ]
  name "pillar_2"
  boundingObject Cylinder {
    height 0.15
    radius 0.04
  }
}
DEF PILLAR_3 Solid {
  translation 0.6 -0.6 0.075
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.6 0.1 0.6
        roughness 0.5
        metalness 0.3
      }
      geometry Cylinder {
        height 0.15
        radius 0.04
      }
    }
  ]
  name "pillar_3"
  boundingObject Cylinder {
    height 0.15
    radius 0.04
  }
}
DEF PILLAR_4 Solid {
  translation -0.6 -0.6 0.075
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.1 0.7 0.7
        roughness 0.5
        metalness 0.3
      }
      geometry Cylinder {
        height 0.15
        radius 0.04
      }
    }
  ]
  name "pillar_4"
  boundingObject Cylinder {
    height 0.15
    radius 0.04
  }
}
# ========== CONOS DE SEÑALIZACIÓN ==========
DEF CONE_1 Solid {
  translation 0.3 0.3 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0.5 0
        roughness 0.7
        metalness 0
      }
      geometry Cone {
        bottomRadius 0.03
        height 0.08
      }
    }
  ]
  name "cone_1"
  boundingObject Cylinder {
    height 0.08
    radius 0.03
  }
}
DEF CONE_2 Solid {
  translation -0.3 0.3 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0.8 0
        roughness 0.7
        metalness 0
      }
      geometry Cone {
        bottomRadius 0.03
        height 0.08
      }
    }
  ]
  name "cone_2"
  boundingObject Cylinder {
    height 0.08
    radius 0.03
  }
}
DEF CONE_3 Solid {
  translation 0.3 -0.3 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0.5 0
        roughness 0.7
        metalness 0
      }
      geometry Cone {
        bottomRadius 0.03
        height 0.08
      }
    }
  ]
  name "cone_3"
  boundingObject Cylinder {
    height 0.08
    radius 0.03
  }
}
DEF CONE_4 Solid {
  translation -0.3 -0.3 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0.8 0
        roughness 0.7
        metalness 0
      }
      geometry Cone {
        bottomRadius 0.03
        height 0.08
      }
    }
  ]
  name "cone_4"
  boundingObject Cylinder {
    height 0.08
    radius 0.03
  }
}
DEF CONE_5 Solid {
  translation 0 0.5 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0.5 0
        roughness 0.7
        metalness 0
      }
      geometry Cone {
        bottomRadius 0.03
        height 0.08
      }
    }
  ]
  name "cone_5"
  boundingObject Cylinder {
    height 0.08
    radius 0.03
  }
}
DEF CONE_6 Solid {
  translation 0 -0.5 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 1 0.8 0
        roughness 0.7
        metalness 0
      }
      geometry Cone {
        bottomRadius 0.03
        height 0.08
      }
    }
  ]
  name "cone_6"
  boundingObject Cylinder {
    height 0.08
    radius 0.03
  }
}
# ========== MUROS DEL LABERINTO ==========
DEF WALL_1 Solid {
  translation 0 0.25 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.5 0.02 0.08
      }
    }
  ]
  name "wall_1"
  boundingObject Box {
    size 0.5 0.02 0.08
  }
}
DEF WALL_2 Solid {
  translation -0.25 0.15 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.02 0.22 0.08
      }
    }
  ]
  name "wall_2"
  boundingObject Box {
    size 0.02 0.22 0.08
  }
}
DEF WALL_3 Solid {
  translation 0.25 0.15 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.02 0.22 0.08
      }
    }
  ]
  name "wall_3"
  boundingObject Box {
    size 0.02 0.22 0.08
  }
}
DEF WALL_4 Solid {
  translation -0.35 -0.1 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.3 0.02 0.08
      }
    }
  ]
  name "wall_4"
  boundingObject Box {
    size 0.3 0.02 0.08
  }
}
DEF WALL_5 Solid {
  translation 0.35 -0.1 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.3 0.02 0.08
      }
    }
  ]
  name "wall_5"
  boundingObject Box {
    size 0.3 0.02 0.08
  }
}
DEF WALL_6 Solid {
  translation -0.5 -0.2 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.02 0.2 0.08
      }
    }
  ]
  name "wall_6"
  boundingObject Box {
    size 0.02 0.2 0.08
  }
}
DEF WALL_7 Solid {
  translation 0.5 -0.2 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.02 0.2 0.08
      }
    }
  ]
  name "wall_7"
  boundingObject Box {
    size 0.02 0.2 0.08
  }
}
DEF WALL_8 Solid {
  translation 0 -0.2 0.04
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.25 0.25 0.3
        roughness 0.9
        metalness 0.1
      }
      geometry Box {
        size 0.15 0.02 0.08
      }
    }
  ]
  name "wall_8"
  boundingObject Box {
    size 0.15 0.02 0.08
  }
}
# ========== BARRERAS DECORATIVAS ==========
DEF BARRIER_1 Solid {
  translation 0.2 -0.45 0.03
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.8 0.1 0.1
        roughness 0.6
        metalness 0.4
      }
      geometry Box {
        size 0.2 0.015 0.06
      }
    }
  ]
  name "barrier_1"
  boundingObject Box {
    size 0.2 0.015 0.06
  }
}
DEF BARRIER_2 Solid {
  translation -0.2 -0.45 0.03
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.8 0.1 0.1
        roughness 0.6
        metalness 0.4
      }
      geometry Box {
        size 0.2 0.015 0.06
      }
    }
  ]
  name "barrier_2"
  boundingObject Box {
    size 0.2 0.015 0.06
  }
}
DEF SUPERVISOR Robot {
  children [
    Emitter {
      name "super_emitter"
      channel 1
    }
  ]
  name "SUPERVISOR"
  controller "game_supervisor"
  supervisor TRUE
}
DEF CHASER_1 Robot {
  translation 0.077068 0.575372 -0.0001048
  rotation -0.01761519930955717 -0.008817339654396815 0.9998059608117486 -3.1285653071795863
  children [
    GPS {
    }
    Compass {
    }
    Receiver {
      channel 1
    }
    DistanceSensor {
      translation 0.035 0.015 0.03
      name "ds_left"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DistanceSensor {
      translation 0.035 -0.015 0.03
      name "ds_right"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DEF Body Pose {
      translation 0 0 0.0415
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0 0 1
            roughness 1
            metalness 0
          }
          geometry Cylinder {
            height 0.08
            radius 0.035
          }
        }
      ]
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -21.867389161691275
        anchor 0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_1"
        }
      ]
      endPoint Solid {
        translation 0.035 0 0.025
        rotation 0.7064278296537464 -0.043769587767448194 0.7064304245128215 3.229075670519324
        children [
          DEF Wheel Shape {
            appearance PBRAppearance {
              baseColor 1 0 0
              roughness 1
              metalness 0
            }
            geometry Cylinder {
              height 0.01
              radius 0.025
            }
          }
        ]
        boundingObject USE Wheel
        physics DEF Wheel_Physics Physics {
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -15.561976242725585
        anchor -0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_2"
        }
      ]
      endPoint Solid {
        translation -0.035 0 0.025
        rotation -0.7061621406068141 0.05163718559653266 -0.7061647344899569 3.0384103043891737
        children [
          USE Wheel
        ]
        name "solid(1)"
        boundingObject USE Wheel
        physics USE Wheel_Physics
      }
    }
    Solid {
      translation 0.015 0.035 0.07
      children [
        DEF Eye Shape {
          appearance PBRAppearance {
            baseColor 1 0 0
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.005 0.005 0.005
          }
        }
      ]
      name "solid(2)"
      boundingObject USE Eye
      physics Physics {
      }
    }
    Solid {
      translation -0.015 0.035 0.07
      children [
        USE Eye
      ]
      name "solid(3)"
    }
  ]
  name "CHASER_1"
  boundingObject USE Body
  physics Physics {
    density 800
  }
  controller "chaser_controller"
}
DEF CHASER_2 Robot {
  translation 0.504366 0.545258 5.9371e-05
  rotation -0.005998579248628039 -0.023025797115827328 0.9997168747771433 3.12288
  children [
    GPS {
    }
    Compass {
    }
    Receiver {
      channel 1
    }
    DistanceSensor {
      translation 0.035 0.015 0.03
      name "ds_left"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DistanceSensor {
      translation 0.035 -0.015 0.03
      name "ds_right"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DEF Body Pose {
      translation 0 0 0.0415
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0 0 1
            roughness 1
            metalness 0
          }
          geometry Cylinder {
            height 0.08
            radius 0.035
          }
        }
      ]
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -79.39880670178741
        anchor 0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_1"
        }
      ]
      endPoint Solid {
        translation 0.0363321 -0.0004123996389976401 0.02462300888329184
        rotation -0.647282750858177 -0.33837847856606157 -0.6830263872536615 3.7559018163505717
        children [
          DEF Wheel Shape {
            appearance PBRAppearance {
              baseColor 1 0 0
              roughness 1
              metalness 0
            }
            geometry Cylinder {
              height 0.01
              radius 0.025
            }
          }
        ]
        boundingObject USE Wheel
        physics DEF Wheel_Physics Physics {
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -69.67790729186751
        anchor -0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_2"
        }
      ]
      endPoint Solid {
        translation -0.0363357 0.0003041915409851543 0.02548673476798286
        rotation 0.3032216090811218 -0.906331707873325 0.2943118942375203 4.673799611427248
        children [
          USE Wheel
        ]
        name "solid(1)"
        boundingObject USE Wheel
        physics USE Wheel_Physics
      }
    }
    Solid {
      translation 0.015 0.035 0.07
      children [
        DEF Eye Shape {
          appearance PBRAppearance {
            baseColor 1 0 0
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.005 0.005 0.005
          }
        }
      ]
      name "solid(2)"
      boundingObject USE Eye
      physics Physics {
      }
    }
    Solid {
      translation -0.015 0.035 0.07
      children [
        USE Eye
      ]
      name "solid(3)"
    }
  ]
  name "CHASER_2"
  boundingObject USE Body
  physics Physics {
    density 800
  }
  controller "chaser_controller"
}
DEF CHASER_3 Robot {
  translation -0.402643 0.591443 -0.00144652
  rotation 0.0016592500824197884 -0.01758190087334427 0.9998440496651685 3.03078
  children [
    GPS {
    }
    Compass {
    }
    Receiver {
      channel 1
    }
    DistanceSensor {
      translation 0.035 0.015 0.03
      name "ds_left"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DistanceSensor {
      translation 0.035 -0.015 0.03
      name "ds_right"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DEF Body Pose {
      translation 0 0 0.0415
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0 0 1
            roughness 1
            metalness 0
          }
          geometry Cylinder {
            height 0.08
            radius 0.035
          }
        }
      ]
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -25.849073586656495
        anchor 0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_1"
        }
      ]
      endPoint Solid {
        translation 0.0363321 0.00035461174787989247 0.02543179424797908
        rotation -0.3341679034891233 0.8722257463780162 -0.357147112032278 1.760476696112313
        children [
          DEF Wheel Shape {
            appearance PBRAppearance {
              baseColor 1 0 0
              roughness 1
              metalness 0
            }
            geometry Cylinder {
              height 0.01
              radius 0.025
            }
          }
        ]
        boundingObject USE Wheel
        physics DEF Wheel_Physics Physics {
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -36.63940371472295
        anchor -0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_2"
        }
      ]
      endPoint Solid {
        translation -0.0363357 -0.0005018266042660367 0.025278591613694792
        rotation 0.45650346069734954 0.781952176626626 0.42444715082118906 1.7633480731792102
        children [
          USE Wheel
        ]
        name "solid(1)"
        boundingObject USE Wheel
        physics USE Wheel_Physics
      }
    }
    Solid {
      translation 0.015 0.035 0.07
      children [
        DEF Eye Shape {
          appearance PBRAppearance {
            baseColor 1 0 0
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.005 0.005 0.005
          }
        }
      ]
      name "solid(2)"
      boundingObject USE Eye
      physics Physics {
      }
    }
    Solid {
      translation -0.015 0.035 0.07
      children [
        USE Eye
      ]
      name "solid(3)"
    }
  ]
  name "CHASER_3"
  boundingObject USE Body
  physics Physics {
    density 800
  }
  controller "chaser_controller"
}
DEF TARGET Robot {
  translation 0.0271449 -0.656409 -0.00157668
  rotation 0.28544292651803155 -0.9582787533089715 -0.014972196145686782 0.0503268
  children [
    GPS {
    }
    Compass {
    }
    Receiver {
      channel 1
    }
    DistanceSensor {
      translation 0.035 0.015 0.03
      name "ds_left"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DistanceSensor {
      translation 0.035 -0.015 0.03
      name "ds_right"
      lookupTable [
        0 1000 0
        0.25 0 0
      ]
      type "infra-red"
    }
    DEF Body Pose {
      translation 0 0 0.0415
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.666667 0 0
            roughness 1
            metalness 0
          }
          geometry Cylinder {
            height 0.08
            radius 0.035
          }
        }
      ]
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -29.18939567570327
        anchor 0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_1"
        }
      ]
      endPoint Solid {
        translation 0.0363342 -0.0004896514775537931 0.024731747972050393
        rotation -0.6464854017943215 -0.34062147283356264 -0.6826665639325902 3.7612249846579977
        children [
          DEF Wheel Shape {
            appearance PBRAppearance {
              baseColor 0 0 0
              roughness 1
              metalness 0
            }
            geometry Cylinder {
              height 0.01
              radius 0.025
            }
          }
        ]
        boundingObject USE Wheel
        physics DEF Wheel_Physics Physics {
        }
      }
    }
    HingeJoint {
      jointParameters HingeJointParameters {
        position -33.703400829012736
        anchor -0.045 0 0.025
      }
      device [
        RotationalMotor {
          name "motor_2"
        }
      ]
      endPoint Solid {
        translation -0.0363335 0.0005236031114438404 0.024764705249005238
        rotation 0.6926988617216246 -0.29873714820397534 0.656448324891245 3.763620847115301
        children [
          USE Wheel
        ]
        name "solid(1)"
        boundingObject USE Wheel
        physics USE Wheel_Physics
      }
    }
    Solid {
      translation 0.015 0.035 0.07
      children [
        DEF Eye Shape {
          appearance PBRAppearance {
            baseColor 0 0 0
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.005 0.005 0.005
          }
        }
      ]
      name "solid(2)"
      boundingObject USE Eye
      physics Physics {
      }
    }
    Solid {
      translation -0.015 0.035 0.07
      children [
        USE Eye
      ]
      name "solid(3)"
    }
  ]
  name "TARGET"
  boundingObject USE Body
  physics Physics {
    density 800
  }
  controller "target_controller"
}
